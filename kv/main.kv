#:set btn_txt 0.45    # rapid change button text size, size_hint height everywhere
#:set g_btn_txt 0.45
#:set sz_hint_hight 0.3

<PostCard@MDCard>
    id: coffee_ware_card
    on_pre_enter: 
    size_hint: 0.95, 1
    pos_hint: {"center_x": 0.5, "top": 1}
    elevation: 25
    padding: 0.02 * self.height
    spacing:  0.02 * self.height
    radius: 20
    orientation: 'vertical'
    line_color: (0, 0, 0, 1)
    value: 0
    # on_touch_up: app.four_news(1)
    # on_touch_down: app.four_news(-1)

    MDBoxLayout:
        id: box_post
        orientation: "horizontal"
        padding: 0.01 * self.height
        spacing: 0.01 * self.height

        # Button:
        #     id: post_image
        #     size_hint: 0.4, 1
        #     # size: "100dp", "100dp"
        #     background_normal: "images/cimer.jpg"

        AsyncImage:
            id: post_image
            size_hint: 0.4, 1
            # size: "100dp", "100dp"
            source: "images/cimer.jpg"
            # source: "http://ragaly.hu/wp-content/uploads/2020/09/Plakat_2021-2.jpg"

        MDBoxLayout:
            id: box_post_lbl
            size_hint: 0.6, 1
            orientation: "vertical"
            padding: 0.01 * self.height
            spacing: 0.01 * self.height

            MDLabel:
                id: post_title
                size_hint: (0.9, 0.6)
                pos_hint: {'center_x': .5, "top": 1}
                font_size: 0.3 * self.height
                halign: "left"
                text: "Post Title"

            MDLabel:
                id: post_date
                size_hint: (0.9, 0.4)
                pos_hint: {'center_x': .5, "top": 0.5}
                font_size: 0.3 * self.height
                halign: "right"
                text: "Post Date"

<ContentNavigationDrawer>

    ScrollView:

        MDList:
            Image:
                id: arms_img
                size_hint: None, None
                size: "80dp", "160dp"
                source: "images/cimer.jpg"

            OneLineListItem:
                text: "Hírek"
                on_press:
                    root.nav_drawer.set_state("close")
                    root.screen_manager.current = "scr_1"

            OneLineListItem:
                text: "Elérhetőségünk"
                on_press:
                    root.nav_drawer.set_state("close")
                    root.screen_manager.current = "scr_2"

            OneLineListItem:
                text: "Open Source THX:"
                on_press:
                    root.nav_drawer.set_state("close")
                    root.screen_manager.current = "scr_3"
            




MDScreen:
    id: main_scr

    MDTopAppBar:
        id: toolbar
        pos_hint: {"top": 1}
        elevation: 10
        title: "Ragály Önkormányzati Hírek"
        left_action_items: [["menu", lambda x: nav_drawer.set_state("open")]]

    MDNavigationLayout:
        x: toolbar.height

        MDScreenManager:
            id: screen_manager

            # SCREEN 1  -----------------------HÍREK-----------------------                        
            MDScreen:
                name: "scr_1"
                
                MDCard:
                    id: coffee_ware_card
                    on_pre_enter: 
                    size_hint: 0.95, 0.8
                    pos_hint: {"center_x": 0.5, "top": 0.9}
                    elevation: 25
                    padding: 0.02 * self.height
                    spacing:  0.02 * self.height
                    radius: 20
                    orientation: 'vertical'
                    line_color: (0, 0, 0, 0.5)

                    PostCard:
                        id: post1
                        on_touch_down: app.id_post(self.value)
                        
                    PostCard:
                        id: post2
                        on_touch_down: app.id_post(self.value)
                        
                    PostCard:
                        id: post3
                        on_touch_down: app.id_post(self.value)
                        
                    PostCard:
                        id: post4
                        on_touch_down: app.id_post(self.value)
                        
                MDGridLayout:
                    id: dose_grid
                    size_hint: (0.9,  0.05)
                    pos_hint: {'center_x': .5, 'top': 0.1}
                    value: 0
                    cols: 3
                    padding: 10
                    spacing: 10
                    MDFillRoundFlatButton:
                        id: post_up
                        size_hint: (1, 0.1)
                        pos_hint: {'center_x': .5, "top": 1}
                        font_size: 0.5* self.height
                        text: "Down"
                        value: 1
                        on_release: app.four_news(self.value)
                    MDFillRoundFlatButton:
                        id: post_home
                        size_hint: (1, 0.1)
                        pos_hint: {'center_x': .5, "top": 1}
                        font_size: 0.5* self.height
                        text: "Home"
                        value: 0
                        on_release: app.four_news(self.value)
                    MDFillRoundFlatButton:
                        id: post_down
                        size_hint: (1, 0.1)
                        pos_hint: {'center_x': .5, "top": 1}
                        font_size: 0.5* self.height
                        text: "Up"
                        value: -1
                        on_release: app.four_news(self.value)
           
               

            # SCREEN 2  -----------------------  Adresses:  -----------------------                        

            MDScreen:
                name: "scr_2"

                MDLabel:
                    text: "Screen 2"    
                    halign: "center"

            # SCREEN 3  --------------------  Programmed By: --------------------------                        

            MDScreen:
                name: "scr_3"
                

                MDBoxLayout:
                    id: scr3_box
                    orientation: "vertical"
                    pos_hint: {"center_x": .5, "center_y": .5}
                    size_hint: 0.95, 0.8                

        MDNavigationDrawer:
            id: nav_drawer

            ContentNavigationDrawer:
                screen_manager: screen_manager
                nav_drawer: nav_drawer