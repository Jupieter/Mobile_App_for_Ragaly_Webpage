#:set btn_txt 0.45    # rapid change button text size, size_hint height everywhere
#:set g_btn_txt 0.45
#:set sz_hint_hight 0.3

<PostCard>
    # id: post_card
    on_pre_enter: 
    size_hint: 0.90, 1
    pos_hint: {"center_x": 0.5, "top": 1}
    elevation: 25
    padding: 0.02 * self.height
    spacing:  0.02 * self.height
    radius: 20
    orientation: 'vertical'
    line_color: (0, 0, 0, 1)
    on_press: app.id_post(self.value)

    MDBoxLayout:
        id: box_post
        orientation: "horizontal"
        padding: 0.01 * self.height
        spacing: 0.01 * self.height

        AsyncImage:
            id: post_image
            size_hint: 0.4, 1
            source: "images/cimer.jpg"

        MDBoxLayout:
            id: box_post_lbl
            size_hint: 0.6, 1
            orientation: "vertical"
            padding: 0.01 * self.height
            spacing: 0.01 * self.height

            MDLabel:
                id: post_title
                size_hint: (0.9, 0.6)
                pos_hint: {'center_x': .5, "top": 1}
                font_size: 0.3 * self.height
                halign: "left"
                text: "Post Title"

            MDLabel:
                id: post_date
                size_hint: (0.9, 0.4)
                pos_hint: {'center_x': .5, "top": 0.5}
                font_size: 0.3 * self.height
                halign: "right"
                text: "Post Date"

<ContentNavigationDrawer>

    ScrollView:

        MDList:
            Image:
                id: arms_img
                size_hint: None, None
                size: "80dp", "160dp"
                source: "images/cimer.jpg"

            OneLineListItem:
                text: "Hírek"
                on_press:
                    root.nav_drawer.set_state("close")
                    root.screen_manager.current = "scr_1"

            OneLineListItem:
                text: "Elérhetőségünk"
                on_press:
                    root.nav_drawer.set_state("close")
                    root.screen_manager.current = "scr_3"

            OneLineListItem:
                text: "Open Source THX:"
                on_press:
                    root.nav_drawer.set_state("close")
                    root.screen_manager.current = "scr_4"
            




MDScreen:
    id: main_scr

    MDTopAppBar:
        id: toolbar
        pos_hint: {"top": 1}
        elevation: 10
        title: "Ragály Önkormányzati Hírek"
        left_action_items: [["menu", lambda x: nav_drawer.set_state("open")]]
        right_action_items: [["brush", lambda x: app.open_color_picker()]]

    MDNavigationLayout:
        x: toolbar.height

        MDScreenManager:
            name: "screen_manager"
            id: screen_manager

            # SCREEN 1  -----------------------HÍREK-----------------------                        
            MDScreen:
                name: "scr_1"
                ScrollView:
                    id: post_scroll 
                    pos_hint: {"center_x": 0.5, "top": 0.91}
                    size_hint_y: 0.84
                    do_scroll_x: False
                    do_scroll_y: True
                    GridLayout:
                        id: grid_banner
                        cols: 1
                        padding: 10, 10
                        spacing: 10, 10
                        size_hint_y: None
                        height: self.minimum_height
                        row_default_height: root.height / 5.2

           
               

            # SCREEN 2  -----------------------  ONE POST:  -----------------------                        

            MDScreen:
                name: "scr_2"
                MDBoxLayout:
                    id: scr2_box
                    orientation: "vertical"
                    pos_hint: {"center_x": .5, "top": 0.9}
                    size_hint: 0.95, 0.95
                    MDLabel:
                        id: scr2_post_title
                        markup: True
                        size_hint: (0.9, 0.9)
                        pos_hint: {'center_x': .5, "top": 0.9}
                        font_size: 20 #0.3 * self.height
                        halign: "left"
                        text: "Post Title"
                    MDLabel:
                        id: scr2_post
                        markup: True
                        size_hint: (0.9, 0.9)
                        pos_hint: {'center_x': .5, "top": 0.9}
                        font_size: 15 #0.3 * self.height
                        halign: "left"
                        text: "Post"
            # SCREEN 2  -----------------------  Adresses:  -----------------------                        

            MDScreen:
                name: "scr_3"

            # SCREEN 3  --------------------  Programmed By: --------------------------                        

            MDScreen:
                name: "scr_4"
                

                MDBoxLayout:
                    id: scr3_box
                    orientation: "vertical"
                    pos_hint: {"center_x": .5, "center_y": .5}
                    size_hint: 0.95, 0.8                

        MDNavigationDrawer:
            id: nav_drawer

            ContentNavigationDrawer:
                screen_manager: screen_manager
                nav_drawer: nav_drawer
    
    MDBottomAppBar:

        MDTopAppBar:
            title: "Title"
            icon: "home"
            type: "bottom"
            on_action_button: app.go_home()